{"version":3,"sources":["components/Game/Params.js","components/Game/AnswerI/AnswerI.js","components/Game/DialogBox/PhraseText.js","components/Game/DialogBox/DialogBox.js","components/Game/Visual/img-object.js","components/Game/Visual/scene-object.js","components/Game/Visual/shaking.js","components/Game/Visual/Visual.js","game/parameters.js","components/Game/Loading/Loading.js","components/Game/Audio/audio-element.js","components/Game/Audio/AudioPlayer.js","game/ranges.js","components/Game/Settings/FullScreen.js","components/Game/Settings/AudioSwitcher.js","components/Game/Settings/Settiings.js","components/Game/Ending/ImageItem.js","components/Game/Ending/Ending.js","components/Game/UI.js","components/Game/Screen.js","mlpa_engine/graduation.js","mlpa_engine/parameter.js","mlpa_engine/phrase.js","mlpa_engine/range.js","mlpa_engine/stage.js","mlpa_engine/stuff.js","mlpa_engine/topic.js","mlpa_engine/change.js","mlpa_engine/interf.js","game/loc_example.js","mlpa_engine/loc.js","game/grads.js","components/Game/Game.js","components/Editor/Topics/TopicItem.js","components/Editor/Stages/StageItem.js","components/Editor/Stuffs/StuffItem.js","components/Editor/Ranges/RangeItem.js","components/Editor/Stuffs/AddStuff.js","components/Editor/Stages/Stage.js","components/Editor/Topics/Topic.js","components/Editor/Topics/AddTopic.js","components/Editor/Editor.js","App.js","serviceWorker.js","index.js"],"names":["Params","this","props","grads","checkGrad","filter","g","name","params","lim","edit","correctGradsItems","correctGrads","map","key","style","color","paramItems","param","isAchiev","type","disabled","checked","value","onClick","display","height","width","backgroundColor","position","top","React","Component","AnswerI","text","click","isHiding","disClass","className","toUpperCase","PhraseText","state","isStart","curText","balText","pAnsswerd","writingFinish","isPlayer","curLen","length","newText","slice","setTimeout","setState","nextLetterLoop","isEnding","title","titleClass","DialogBox","dDelay","isPAnsserd","pPhrase","cPhrase","hiding","isLoaded","hidingClass","pAnswer","cAnswer","ImgObject","image","slot","min","max","SceneObject","x","y","imgName","Shaking","speed","ampl","stage","calcSpeed","Math","random","maxSpeed","calcAmpl","maxAmpl","update","PI","newMaxSpeed","newMaxAmpl","sin","Visual","drawImg","obj","ctx","img","images","find","progress","currProgress","locFactor","getPosition","camZoom","camX","camY","screenWidth","landWidth","screenHeight","landHeight","drawImage","shaking","drawSceneLopp","p","isStarted","newCanvas","document","createElement","newCtx","getContext","scene","getCorrImgName","window","requestAnimationFrame","c","objects","positions","prog","back","legs","body","head","landSizes","index","pos","first","last","factor","refs","myCanvas","loaderLoop","forEach","object","loadImage","sceneObject","Image","url","src","location","href","onload","event","target","push","loadFinished","slotName","corrImages","corrImg","ref","left","Loading","AudioElement","rangeName","audio","fileName","updateLoop","isPlayed","volume","vMax","vStep","pause","isOn","play","AudioPlayer","musics","getAudio","fileN","Audio","loop","preload","ranges","checkRange","r","corrRanges","correctRanges","range","result","m","audioPlayed","getAudioName","FullScreen","render","icoClass","isFullScren","fullScreenOn","Boolean","fullscreenElement","screenDom","getElementById","getFullScreen","exitFullscreen","requestFullscreen","AudioSwitcher","audioSwitch","Settings","methods","data","ImageItem","isCurrent","goNext","disClassName","endingNext","alt","Ending","endData","quantity","currentImg","imagesItems","i","alert","UI","answers","id","loc","currStageId","getStartId","getStageData","stageId","interf","getInterfaceStage","phrase","replic","newStage","stages","isFin","_getTopic","topic_id","stuffId","newStageId","calcStuff","getCorrectPhrase","answersItems","answer","generalPhrase","gameUI","paramName","term","_editParams","cChange","forceUpdate","loadingAnim","visual","ending","Screen","marginLeft","children","Graduation","rangesNames","Parameter","Phrase","isGeneral","stuff_id","Range","Stage","isBeen","Stuff","next_stage_id","changes","isA","stage_id","Topic","graduation","Change","Interf","locE","topics","stuffs","phrases","addStages","topicId","newStages","concat","console","error","_getStages","_getStuffs","stuff","_getPhrases","_getParam","checkStageFinal","s","_getRange","gradName","_getGrad","rName","idState","getId","startTopic","topic","startStage","getGeneralPhrase","neutralPhrase","checkAnswToGrad","nextStage","replicStuff","ssign","k","addTopics","addStuffs","nextStageId","addPhrases","newStuffs","newPhrases","phraseId","grad","change","newValue","answersAll","correctNeutAchiev","correctFinal","incrrectNeutral","correct","addParams","cParam","addRanges","cRange","addGrads","cGrad","Game","mlpaState","defaultParams","screen","newWidth","factorW","newHeight","factorH","getSizes","TopicItem","isSelect","margin","padding","cursor","border","StageItem","stuffText","isFinal","StuffItem","allStages","currentTopic","viewAchievs","stat","goStage","allTopics","getPhrases","changesItems","inputElem","onChange","e","updateStuff","Number","marginRight","paddingTop","paddingBottom","linkItems","getStages","unshift","linkThemesItems","t","next","newCurrTopic","topicStages","removeButton","removeStuff","viewBox","updatePhrase","RangeItem","AddStuff","addStuff","currentRange","acheivs","pAnswers","changeStage","getStuffs","splitStuffs","stuffsItems","shift","generStuff","noRanges","rangesItems","getParam","align","removeStage","updateStage","nextStuff","nextPhrase","newStageStart","currentStage","stagesItems","optItems","curStage","stageView","updateTopic","removeTopic","addStage","AddTopic","addTopic","App","hostname","match","ReactDOM","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.515e3640.chunk.js","sourcesContent":["import React from \"react\";\n\nexport default class Params extends React.Component {\n  /* constructor() {\n    super();\n\n  }*/\n\n  correctGrads() {\n    const { grads, checkGrad } = this.props;\n    const corrGrads = grads.filter(g => checkGrad(g.name));\n\n    return corrGrads;\n  }\n  render() {\n    const { params, lim, edit } = this.props;\n\n    const correctGrads = this.correctGrads();\n    const correctGradsItems = correctGrads.map(g => (\n      <div key={g.name}>\n        \n        <span style={{ color: \"white\" }}>{g.name}</span>\n      </div>\n    ));\n\n    const paramItems = params.map(param => {\n      return param.isAchiev ? (\n        <div key={param.name}>\n          <input type=\"checkbox\" disabled checked={param.value} />{\" \"}\n          <span style={{ color: \"white\" }}>{param.name}</span>\n        </div>\n      ) : (\n        <div key={param.name}>\n          <div>\n            <button\n              onClick={() => {\n                edit(param.name, -1);\n              }}\n            >\n              -\n            </button>\n            <div\n              style={{\n                display: \"inline-block\",\n                height: \"15px\",\n                width: `${param.value * 10}px`,\n                backgroundColor: \"red\"\n              }}\n            ></div>\n            <div\n              style={{\n                display: \"inline-block\",\n                height: \"15px\",\n                width: `${(lim - param.value) * 10}px`,\n                backgroundColor: \"gray\"\n              }}\n            ></div>\n\n            <button\n              onClick={() => {\n                edit(param.name, 1);\n              }}\n            >\n              +\n            </button>\n            <span style={{ color: \"white\" }}>{param.name}</span>\n          </div>\n        </div>\n      );\n    });\n\n    return (\n      <div style={{position: 'absolute', top: '0'}}>\n        {paramItems}\n        {correctGradsItems}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport \"./style.css\";\n\nexport default class AnswerI extends React.Component {\n  render() {\n    const { text, click, disabled, isHiding } = this.props;\n    const disClass = disabled ? (isHiding ? \"disabled\" : \"\") : \"undisabled\";\n    return (\n        <div>\n      <div\n        className={`answer ${disClass}`}\n        onClick={() => {\n          if (!disabled) click();\n        }}\n      >\n        {text.toUpperCase()}\n      </div>\n        </div>\n    );\n  }\n}\n","import React from \"react\";\nimport \"./style.css\";\n\nexport default class PhraseText extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { isStart: true, curText: \"\", balText: \"\" };\n  }\n  nextLetterLoop() {\n    const { text, pAnsswerd, writingFinish, isPlayer } = this.props;\n\n    const { curText } = this.state;\n    if (text !== curText) {\n      const curLen = curText.length;\n      const newText = text.slice(0, curLen + 1);\n\n      const balText = text.slice(curLen + 1);\n\n      setTimeout(() => {\n        this.setState({ curText: newText, isStart: false, balText });\n        this.nextLetterLoop();\n      }, 20);\n    } else isPlayer ? pAnsswerd() : writingFinish();\n  }\n  render() {\n    const { isPlayer, isEnding } = this.props;\n    const { isStart, curText, balText } = this.state;\n    if (isStart) this.nextLetterLoop();\n    const title = isEnding ? \"\" : isPlayer ? \"Я\" : \"Она\";\n    const titleClass = isPlayer ? \"text-p\" : \"text-c\";\n    return (\n      <div className=\"phrase-text\">\n        <span className={titleClass}>{title}/</span> {curText}\n        <span className=\"bal-text\">{balText}</span>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport \"./style.css\";\nimport PhraseText from \"./PhraseText\";\n\nexport default class DialogBox extends React.Component {\n  constructor() {\n    super();\n    this.state = { isPAnsserd: false };\n  }\n\n  pAnsswerd = () => {\n    const { dDelay } = this.props;\n    setTimeout(() => {\n      this.setState({ isPAnsserd: true });\n    }, dDelay);\n  };\n  render() {\n    const { pPhrase, cPhrase, writingFinish, hiding, isEnding, isLoaded } = this.props;\n    const { isPAnsserd } = this.state;\n\n    const hidingClass = hiding ? \"phrase-hiding\" : \"\";\n\n    const pAnswer = isLoaded && !isEnding ? (\n      <PhraseText\n        isEnding={isEnding}\n        text={pPhrase}\n        isPlayer\n        pAnsswerd={this.pAnsswerd}\n      />\n    ) : null;\n\n    const cAnswer =\n      isPAnsserd || isEnding ? (\n        <PhraseText\n          isEnding={isEnding}\n          text={cPhrase}\n          writingFinish={writingFinish}\n        />\n      ) : null;\n\n    return (\n      <div className=\"dialog-box\">\n        <div className={`phrase-interface ${hidingClass}`}>\n          <div className=\"phrase-content\">\n            {pAnswer}\n            {cAnswer}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","export default class ImgObject {\n  constructor(image, slot = \"\", min, max, param = null) {\n    this.image = image;\n    this.slot = slot;\n    this.min = min;\n    this.max = max;\n    this.param = param;\n  }\n}\n","export default class SceneObject {\n  constructor(x = 0, y = 0, imgName, width) {\n    this.x = x;\n    this.y = y;\n    this.imgName = imgName;\n    this.width = width\n  }\n}\n","export default class Shaking {\n  constructor(speed, ampl) {\n    this.maxSpeed = speed;\n    this.maxAmpl = ampl;\n    this.speed = speed;\n    this.ampl = ampl;\n  }\n  value = 0;\n  stage = 0;\n\n  calcSpeed = () => {\n    this.speed = Math.random() * this.maxSpeed * 0.3 + this.maxSpeed * 0.7;\n  };\n  calcAmpl = () => {\n    this.ampl = Math.random() * this.maxAmpl * 0.5 + this.maxAmpl * 0.5;\n  };\n  update = param => {\n    this.stage += this.speed;\n\n    if (this.stage > 2 * Math.PI) {\n      this.stage = 0;\n\n      this.calcAmpl();\n      this.calcSpeed();\n    }\n    if (param) {\n      const newMaxSpeed = param.value < 3 ? 6 : param.value < 10 ? 0.1 : 0.05;\n\n      const newMaxAmpl = -Math.sin((param.value / 15) * (-Math.PI / 2)) * 10;\n\n      if (this.maxSpeed !== newMaxSpeed) {\n        this.maxSpeed = newMaxSpeed;\n        this.calcSpeed();\n      }\n      if (this.maxAmpl !== newMaxAmpl) {\n        this.maxAmpl = newMaxAmpl;\n      }\n    }\n\n    this.value = Math.sin(this.stage) * this.ampl;\n  };\n}\n","import React from \"react\";\nimport ImgObject from \"./img-object\";\nimport SceneObject from \"./scene-object\";\nimport \"./style.css\";\n\nimport {\n  PARAM_EQUILIBRIUM,\n  PARAM_DETERMINATION\n} from \"../../../game/parameters\";\nimport Shaking from \"./shaking\";\n\nexport default class Visual extends React.Component {\n  constructor(props) {\n    super(props);\n    this.c = null;\n    this.ctx = null;\n    this.shaking = {\n      x: new Shaking(0.05, 10),\n      y: new Shaking(0.05, 7)\n    };\n    this.objects = [\n      new ImgObject(\"road\", \"back\"),\n      new ImgObject(\"legs\", \"legs\"),\n      new ImgObject(\"doubt\", \"body\", 1, 5, PARAM_DETERMINATION),\n      new ImgObject(\"uncertainty\", \"body\", 6, 10, PARAM_DETERMINATION),\n      new ImgObject(\"readiness\", \"body\", 11, 15, PARAM_DETERMINATION),\n      //new ImgObject(\"tension\", \"body\"),\n      new ImgObject(\"squinted\", \"head\", 1, 5, PARAM_EQUILIBRIUM),\n      new ImgObject(\"horror\", \"head\", 6, 10, PARAM_EQUILIBRIUM),\n      new ImgObject(\"fear\", \"head\", 11, 15, PARAM_EQUILIBRIUM)\n      /* new ImgObject(\"apathy\", \"head\"),\n      new ImgObject(\"trembling\", \"head\")*/\n    ];\n\n    this.progress = 0;\n    this.currProgress = 0;\n\n\n\n    this.positions = [\n      { prog: 0, camX: 915, camY: 386, camZoom: 20 },\n      { prog: 200, camX: 924, camY: 395, camZoom: 13.82 },\n      { prog: 400, camX: 933, camY: 410, camZoom: 8.24 },\n\n      { prog: 600, camX: 942, camY: 440, camZoom: 3.82 },\n      { prog: 800, camX: 951, camY: 480, camZoom: 1.98 },\n      { prog: 1000, camX: 960, camY: 540, camZoom: 1.4 }\n    ];\n\n    const girlX = 800;\n    const girlY = 345;\n    this.scene = {\n      back: new SceneObject(0, 0, \"road\", 1920),\n      legs: new SceneObject(girlX, girlY, \"legs\", 200),\n      body: new SceneObject(girlX, girlY, \"doubt\", 200),\n      head: new SceneObject(girlX, girlY, \"horror\", 200)\n    };\n    this.images = [];\n\n    const { landWidth, landHeight } = this.props.landSizes;\n\n    this.landWidth = landWidth;\n    this.landHeight = landHeight;\n\n    this.state = { isStarted: false };\n  }\n\n  getPosition() {\n    if (this.positions.length === 1) return this.positions[0];\n    for (let index = 0; index < this.positions.length; index++) {\n      const pos = this.positions[index];\n      if (this.currProgress < pos.prog) {\n        const first = this.positions[index - 1];\n        const last = pos;\n        const factor =\n          (this.currProgress - first.prog) / (last.prog - first.prog);\n        const camZoom = first.camZoom + (last.camZoom - first.camZoom) * factor;\n        const camX = first.camX + (last.camX - first.camX) * factor;\n        const camY = first.camY + (last.camY - first.camY) * factor;\n        return { camZoom, camX, camY };\n      } else if (index === this.positions.length - 1) {\n        return pos;\n      }\n    }\n  }\n\n  drawImg = (obj, ctx) => {\n    const { img } = this.images.find(image => image.name === obj.imgName);\n    const { width, x, y } = obj;\n\n    if (this.progress > this.currProgress) {\n      this.currProgress += 1;\n    }\n\n    const locFactor = width / img.width;\n    const height = img.height * locFactor;\n\n    const { camZoom, camX, camY } = this.getPosition();\n\n    const screenWidth = this.landWidth / 2;\n    const screenHeight = this.landHeight / 2;\n\n    ctx.drawImage(\n      img,\n      (x - camX) * camZoom + screenWidth + this.shaking.x.value,\n      (y - camY) * camZoom + screenHeight + this.shaking.y.value,\n      width * camZoom,\n      height * camZoom\n    );\n  };\n  async componentDidMount() {\n    if (!this.c && this.refs.myCanvas) {\n      this.c = this.refs.myCanvas;\n      this.ctx = this.c.getContext(\"2d\");\n\n      this.loaderLoop();\n    }\n  }\n\n  loaderLoop() {\n    this.objects.forEach(object => {\n      this.loadImage(object);\n    });\n  }\n\n  loadImage(sceneObject) {\n    const { slot, image } = sceneObject;\n    let img = new Image();\n    let url = slot ? `${slot}/` : \"\";\n    url += image;\n    img.src = `${window.location.href}/img/${url}.png`;\n    img.onload = event => {\n      const { target } = event;\n      this.images.push({ name: image, img: target });\n      if (this.images.length === this.objects.length) {\n        const { loadFinished } = this.props;\n        loadFinished();\n      }\n    };\n  }\n\n  getCorrImgName(slotName) {\n    const { params } = this.props;\n    const corrImages = this.objects.filter(obj => obj.slot === slotName);\n    let corrImg = corrImages.find(obj => {\n      if (obj.param) {\n        const param = params.find(p => p.name === obj.param);\n\n        return param.value <= obj.max && param.value >= obj.min;\n      } else return false;\n    });\n\n    if (!corrImg) {\n      corrImg = corrImages.find(img => !img.param);\n    }\n    return corrImg.image;\n  }\n\n  drawSceneLopp = () => {\n    const { params } = this.props;\n    const param = params.find(p => p.name === PARAM_EQUILIBRIUM);\n\n    this.shaking.x.update(param);\n    this.shaking.y.update(param);\n\n    const { isStarted } = this.state;\n    if (!isStarted) this.setState({ isStarted: true });\n\n    const newCanvas = document.createElement(\"CANVAS\");\n    newCanvas.width = this.landWidth;\n    newCanvas.height = this.landHeight;\n    const newCtx = newCanvas.getContext(\"2d\");\n\n    for (let key in this.scene) {\n      const obj = this.scene[key];\n      obj.imgName = this.getCorrImgName(key);\n      this.drawImg(obj, newCtx);\n    }\n\n    this.ctx.drawImage(newCanvas, 0, 0);\n\n    window.requestAnimationFrame(this.drawSceneLopp);\n  };\n\n  render() {\n    const { width, height, isLoaded } = this.props;\n    const { isStarted } = this.state;\n\n    if (isLoaded && !isStarted) {\n      window.requestAnimationFrame(this.drawSceneLopp);\n    }\n\n    const className = isLoaded ? \"loaded\" : \"\";\n\n    return (\n      <div>\n        <canvas\n          className={className}\n          ref=\"myCanvas\"\n          width={this.landWidth}\n          height={this.landHeight}\n          style={{ width, height }}\n        ></canvas>\n        <button\n          style={{ position: \"absolute\", top: 100, left: 0 }}\n          onClick={() => {\n            this.progress += 100;\n          }}\n        >\n          PGORGESS +{\" \"}\n        </button>\n      </div>\n    );\n  }\n}\n","export const PARAM_DETERMINATION = \"РЕШИМОСТЬ\";\nexport const PARAM_EQUILIBRIUM = \"УРАВНОВЕШЕННОСТЬ\";\n\nexport const PARAM_DOG = \"УЗНАЛ СОБ МЕРТВА\";\n","import React from \"react\";\nimport \"./style.css\";\n\nexport default class Loading extends React.Component {\n  render() {\n    return <div className=\"lds-dual-ring\"></div>;\n  }\n}\n","export default class AudioElement {\n  constructor(rangeName, audio, fileName) {\n    this.rangeName = rangeName;\n    this.fileName = fileName;\n    this.audio = audio;\n    this.audio.volume = 0;\n\n    this.isPlayed = false;\n    this.vStep = 1;\n    this.vMax = 10;\n    this.isOn = false;\n\n    this.updateLoop();\n  }\n\n  updateLoop = () => {\n    if (this.isPlayed) {\n      if (this.volume < this.vMax) this.volume += this.vStep;\n    } else {\n      if (this.volume > 0) {\n        this.volume -= this.vStep;\n      } else this.audio.pause();\n    }\n\n    if (!this.isOn) {\n      this.audio.pause();\n    } else this.audio.play();\n\n    setTimeout(this.updateLoop, 600);\n  };\n\n  get volume() {\n    return this.audio.volume * this.vMax;\n  }\n  set volume(value) {\n    this.audio.volume = value / this.vMax;\n  }\n}\n","import React from \"react\";\n\nimport {\n  RANGE_PANIC,\n  RANGE_TENSION,\n  RANGE_STABILITY\n} from \"../../../game/ranges\";\nimport AudioElement from \"./audio-element\";\n\nexport default class AudioPlayer extends React.Component {\n  constructor() {\n    super();\n    this.musics = [\n      new AudioElement(RANGE_PANIC, this.getAudio(\"bells\"), \"bells\"),\n      new AudioElement(\n        RANGE_TENSION,\n        this.getAudio(\"piano-trap\"),\n        \"piano-trap\"\n      ),\n      new AudioElement(RANGE_STABILITY, this.getAudio(\"piano\"), \"piano\")\n    ];\n  }\n\n  getAudio(fileN) {\n    const audio = new Audio(`${window.location.href}/audio/music/${fileN}.wav`);\n    audio.loop = true;\n    audio.preload = \"auto\";\n\n    return audio;\n  }\n  correctRanges() {\n    const { ranges, checkRange } = this.props;\n    const corrRanges = ranges.filter(r => checkRange(r.name));\n\n    return corrRanges;\n  }\n  getAudioName() {\n    const corrRanges = this.correctRanges();\n    for (let range of corrRanges) {\n      const result = this.musics.find(m => m.rangeName === range.name);\n\n      return result?.fileName || \"\";\n    }\n  }\n\n  render() {\n    const { audioPlayed } = this.props;\n\n    const fileName = this.getAudioName();\n\n    this.musics.forEach(m => {\n      m.isOn = audioPlayed\n      if (m.fileName === fileName) m.isPlayed = true;\n      else m.isPlayed = false;\n    });\n\n    return null;\n  }\n}\n","export const RANGE_PANIC = \"ПАНИКА\";\nexport const RANGE_TENSION = \"НАПРЯЖЕННОСТЬ\";\nexport const RANGE_STABILITY = \"СТАБИЛЬНОСТЬ\";\n\nexport const RANGE_APATHY = \"АПАТИЯ\";\nexport const RANGE_UNCERTAINTY = \"НЕУВЕРЕННОСТЬ\";\nexport const RANGE_CONFIDENCE = \"УВЕРЕННОСТЬ\";\n\nexport const RANGE_DOG = \"ЗНАЕТ ПРО СОБАКУ\";\n","import React from \"react\";\n\nexport default class FullScreen extends React.Component {\n  constructor() {\n    super();\n    this.state = { isFullScren: false };\n  }\n  getFullScreen() {\n    return Boolean(document.fullscreenElement);\n  }\n  fullScreenOn() {\n    const screenDom = document.getElementById(\"screenDom\");\n\n    if (this.getFullScreen()) document.exitFullscreen();\n    else screenDom.requestFullscreen();\n\n    this.setState({ isFullScren: !this.getFullScreen() });\n  }\n  render = () => {\n    const {isFullScren} = this.state\n\n    const icoClass = isFullScren ? \"fas fa-compress\" : \"fas fa-expand\";\n\n    return (\n      <div className=\"sett\">\n        <button\n          className={`${icoClass} sett-btn`}\n          onClick={() => {\n            this.fullScreenOn();\n          }}\n        ></button>\n      </div>\n    );\n  };\n}\n","import React from \"react\";\nimport \"./style.css\";\n\nexport default class AudioSwitcher extends React.Component {\n  render() {\n    const { audioSwitch, audioPlayed } = this.props;\n\n    const icoClass = audioPlayed ? \"fas fa-volume-up\" : \"fas fa-volume-mute\";\n\n    return (\n      <div className=\"sett\">\n        <button\n          className={`${icoClass} sett-btn`}\n          onClick={() => {\n            audioSwitch();\n          }}\n        ></button>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport FullScreen from \"./FullScreen\";\nimport AudioSwitcher from \"./AudioSwitcher\";\n\nexport default class Settings extends React.Component {\n  render() {\n    const {methods, data} = this.props\n    return (\n      <div className=\"settings\">\n\n        <AudioSwitcher audioSwitch={methods.audioSwitch} audioPlayed={data.audioPlayed} />\n          <FullScreen />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport \"./style.css\";\n\nexport default class ImageItem extends React.Component {\n  render() {\n    const { src, isCurrent, isHiding, goNext, disabled } = this.props;\n    const className = isCurrent ? \"appear\" : isHiding ? \"extin\" : \"\";\n    const disClassName = !disabled ? 'not-dis' : ''\n    const { endingNext } = this.props;\n\n    return (\n      <div className={`end-cont ${className} ${disClassName}`}>\n        <img\n          onClick={() => {\n            if (!disabled) {\n              endingNext();\n              goNext();\n            }\n          }}\n          className=\"end-img\"\n          src={src}\n          alt={\"img\"}\n        />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport \"./style.css\";\nimport ImageItem from \"./ImageItem\";\n\nexport default class Ending extends React.Component {\n  constructor() {\n    super();\n    this.endData = {\n      name: \"call\",\n      quantity: 4,\n      audio: \"\"\n    };\n    this.state = { currentImg: 1 };\n  }\n\n  render() {\n    const { name, quantity } = this.endData;\n    const { currentImg } = this.state;\n    const { endingNext, disabled } = this.props;\n\n    const imagesItems = [];\n    for (let i = 1; i <= quantity; i++) {\n      const isCurrent = i === currentImg;\n\n      imagesItems.push(\n        <ImageItem\n          disabled={disabled || !isCurrent}\n          endingNext={endingNext}\n          isCurrent={isCurrent}\n          isHiding={i < currentImg}\n          goNext={() => {\n            if (isCurrent && currentImg - 1 < quantity) this.setState({ currentImg: currentImg + 1 });\n            else alert('ТИТРЫ')\n          }}\n          key={i}\n          src={`${window.location.href}/img/endings/${name}/${i}.png`}\n        />\n      );\n    }\n\n    return <div className=\"ending\">{imagesItems}</div>;\n  }\n}\n","import React from \"react\";\n\nimport Params from \"./Params\";\nimport AnswerI from \"./AnswerI/AnswerI\";\nimport DialogBox from \"./DialogBox/DialogBox\";\nimport \"./style.css\";\nimport Visual from \"./Visual/Visual\";\nimport Loading from \"./Loading/Loading\";\nimport AudioPlayer from \"./Audio/AudioPlayer\";\nimport Settings from \"./Settings/Settiings\";\nimport Ending from \"./Ending/Ending\";\n\nexport default class UI extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.loc = props.loc;\n    const currStageId = this.loc.getStartId();\n    const { cPhrase, answers } = this.getStageData(currStageId);\n    this.state = {\n      cPhrase,\n      pPhrase: \"Давай мы тебя успокоим?\",\n      answers,\n      disabled: true,\n      currStageId,\n      isHiding: false,\n      dDelay: 2000,\n      isLoaded: false,\n      audioPlayed: false,\n      isEnding: false\n    };\n  }\n  getStageData(stageId) {\n    const interf = this.loc.getInterfaceStage(stageId);\n    const { answers, replic } = interf;\n    const { phrase } = replic;\n\n    const newStage = this.loc.stages.find(stage => stage.id === stageId);\n    const topic = this.loc._getTopic(newStage.topic_id);\n    const { isFin } = topic;\n\n    return {\n      cPhrase: phrase,\n      answers,\n      isFin\n    };\n  }\n  update(stuffId) {\n    const newStageId = this.loc.calcStuff(stuffId);\n    const pPhrase = this.loc.getCorrectPhrase(stuffId);\n    const { cPhrase, answers, isFin } = this.getStageData(newStageId);\n    // const newTopic = this.loc._getTopic(topic_id)\n\n    this.setState({\n      isHiding: true,\n      disabled: true\n    });\n\n    setTimeout(() => {\n      this.setState({\n        isEnding: isFin,\n        pPhrase,\n        cPhrase,\n        currStageId: newStageId,\n        answers,\n        isHiding: false,\n        dDelay: 500 //ДОБАВИТЬ ЗАВИСИМОСТЬ ОТ ПОТРЯСЕНИЯ\n      });\n    }, 500);\n  }\n  endingNext = () => {\n    const { answers } = this.state;\n    if (answers.length) this.update(answers[0].id);\n  };\n  writingFinish() {\n    this.setState({ disabled: false });\n  }\n  audioSwitch = () => {\n    const { audioPlayed } = this.state;\n    this.setState({ audioPlayed: !audioPlayed });\n  };\n  render() {\n    const {\n        pPhrase,\n        cPhrase,\n        currStageId,\n        answers,\n        disabled,\n        isHiding,\n        dDelay,\n        isLoaded,\n        audioPlayed,\n        isEnding\n      } = this.state,\n      answersItems = answers.map(answer => {\n        return (\n          <AnswerI\n            key={answer.id}\n            text={answer.generalPhrase}\n            disabled={disabled}\n            isHiding={isHiding}\n            click={() => {\n              this.update(answer.id);\n            }}\n          />\n        );\n      }),\n      { width, height, landSizes } = this.props,\n      gameUI =\n        isLoaded && !isEnding ? (\n          <div>\n            <Params\n              params={this.loc.params}\n              lim={this.loc.lim}\n              edit={(paramName, term) => {\n                this.loc._editParams([this.loc.cChange(paramName, term)]);\n                this.forceUpdate();\n              }}\n              grads={this.loc.grads}\n              checkGrad={this.loc.checkGrad}\n            />\n            <div className=\"answers\">{answersItems}</div>\n          </div>\n        ) : null,\n      loadingAnim = !isLoaded ? <Loading /> : null;\n    const visual = !isEnding ? (\n      <Visual\n        params={this.loc.params}\n        width={width}\n        height={height}\n        isLoaded={isLoaded}\n        loadFinished={() => this.setState({ isLoaded: true })}\n        landSizes={landSizes}\n      />\n    ) : null;\n\n    const ending = isEnding ? (\n      <Ending disabled={disabled} endingNext={this.endingNext} />\n    ) : null;\n\n    return (\n      <div>\n        {loadingAnim}\n        {visual}\n        {ending}\n        <AudioPlayer\n          ranges={this.loc.ranges}\n          checkRange={this.loc.checkRange}\n          audioPlayed={audioPlayed}\n        />\n        {gameUI}\n        <DialogBox\n          isLoaded={isLoaded}\n          hiding={isHiding}\n          key={currStageId}\n          pPhrase={pPhrase}\n          cPhrase={cPhrase}\n          dDelay={dDelay}\n          isEnding={isEnding}\n          writingFinish={() => {\n            this.writingFinish();\n          }}\n        />\n\n        <Settings\n          methods={{ audioSwitch: this.audioSwitch }}\n          data={{ audioPlayed }}\n        />\n      </div>\n    );\n  }\n}\n\n/*\n <Params\n          params={this.loc.params}\n          lim={this.loc.lim}\n          edit={(paramName, term) => {\n            this.loc._editParams([this.loc.cChange(paramName, term)]);\n            this.forceUpdate();\n          }}\n          grads={this.loc.grads}\n          checkGrad={this.loc.checkGrad}\n        />\n*/\n","import React from \"react\";\nimport \"./Settings/style.css\";\n\nexport default class Screen extends React.Component {\n  render() {\n    const { width, height } = this.props;\n    const style = {\n      width,\n      height,\n      display: \"inline-block\",\n      backgroundColor: \"black\",\n\n      marginLeft: `calc(50% - ${width / 2}px)`,\n      position: \"absolute\",\n    //  overflow: \"hidden\"\n    };\n    return (\n      <div id=\"screenDom\">\n        <div style={style}>\n          {this.props.children}\n\n        </div>\n      </div>\n    );\n  }\n}\n","export default class Graduation {\n  constructor(name, rangesNames) {\n    this.name = name;\n    this.rangesNames = rangesNames;\n  }\n}\n","export default class Parameter {\n  constructor(name, value, isAchiev = false) {\n    this.name = name;\n    this.value = value;\n    this.isAchiev = isAchiev;\n  }\n}\n","export default class Phrase {\n  constructor(rangeName, text, isGeneral, id) {\n    this.rangeName = rangeName;\n    this.text = text;\n    this.isGeneral = isGeneral;\n    this.id = id;\n  }\n  stuff_id = null;\n}\n","export default class Range {\n  constructor(name, paramName, min, max) {\n    this.name = name;\n    this.paramName = paramName;\n    this.min = min;\n    this.max = max;\n  }\n}\n","export default class Stage {\n  constructor(isStart, id) {\n    this.id = id;\n    this.isStart = isStart\n  }\n  isBeen = false;\n  topic_id = null;\n}\n","export default class Stuff {\n  constructor(next_stage_id, changes = [], isA = false, id) {\n    this.next_stage_id = next_stage_id;\n    this.changes = changes;\n    this.isA = isA;\n    this.id = id;\n  }\n  stage_id = null;\n}\n","export default class Topic {\n  constructor(name, graduation, isFin, isStart, id) {\n    this.name = name;\n    this.graduation = graduation;\n    this.isFin = isFin;\n    this.isStart = isStart;\n    this.id = id;\n  }\n}\n","export default class Change {\n  constructor(paramName, term) {\n    this.paramName = paramName;\n    this.term = term;\n  }\n}\n","export default class Interf {\n  constructor(generalPhrase, phrase, id) {\n    this.generalPhrase = generalPhrase;\n    this.phrase = phrase;\n    this.id = id;\n  }\n}\n","import { Loc } from \"./../mlpa_engine\";\n\nimport {\n  PARAM_EQUILIBRIUM,\n  PARAM_DETERMINATION,\n  PARAM_DOG\n} from \"./parameters\";\n\nimport {\n  RANGE_PANIC,\n  RANGE_TENSION,\n  RANGE_STABILITY,\n  RANGE_APATHY,\n  RANGE_UNCERTAINTY,\n  RANGE_CONFIDENCE,\n  RANGE_DOG\n} from \"./ranges\";\n\nimport {\n  GRAD_PAN_APA,\n  GRAD_PAN_UNC,\n  GRAD_PAN_CON,\n  GRAD_TEN_APA,\n  GRAD_TEN_UNC,\n  GRAD_TEN_CON,\n  GRAD_STAB_APA,\n  GRAD_STAB_UNC,\n  GRAD_STAB_CON,\n  GRAD_DOG\n} from \"./grads\";\n\nconst locE = new Loc();\nlocE.addParams(\n  locE.cParam(PARAM_DETERMINATION, 2),\n  locE.cParam(PARAM_EQUILIBRIUM, 4),\n\n  locE.cParam(PARAM_DOG, false, true)\n);\n\nlocE.addRanges(\n  locE.cRange(RANGE_PANIC, 1, 5, PARAM_EQUILIBRIUM),\n  locE.cRange(RANGE_TENSION, 6, 10, PARAM_EQUILIBRIUM),\n  locE.cRange(RANGE_STABILITY, 11, 15, PARAM_EQUILIBRIUM),\n\n  locE.cRange(RANGE_APATHY, 1, 5, PARAM_DETERMINATION),\n  locE.cRange(RANGE_UNCERTAINTY, 6, 10, PARAM_DETERMINATION),\n  locE.cRange(RANGE_CONFIDENCE, 11, 15, PARAM_DETERMINATION),\n\n  locE.cRange(RANGE_DOG, true, true, PARAM_DOG)\n);\nlocE.addGrads(\n  locE.cGrad(GRAD_PAN_APA, RANGE_PANIC, RANGE_APATHY),\n  locE.cGrad(GRAD_PAN_UNC, RANGE_PANIC, RANGE_UNCERTAINTY),\n  locE.cGrad(GRAD_PAN_CON, RANGE_PANIC, RANGE_CONFIDENCE),\n\n  locE.cGrad(GRAD_TEN_APA, RANGE_TENSION, RANGE_APATHY),\n  locE.cGrad(GRAD_TEN_UNC, RANGE_TENSION, RANGE_UNCERTAINTY),\n  locE.cGrad(GRAD_TEN_CON, RANGE_TENSION, RANGE_CONFIDENCE),\n\n  locE.cGrad(GRAD_STAB_APA, RANGE_STABILITY, RANGE_APATHY),\n  locE.cGrad(GRAD_STAB_UNC, RANGE_STABILITY, RANGE_UNCERTAINTY),\n  locE.cGrad(GRAD_STAB_CON, RANGE_STABILITY, RANGE_CONFIDENCE),\n\n  locE.cGrad(GRAD_DOG, RANGE_DOG)\n);\n\nexport default locE;\n","import Parameter from \"./parameter\";\nimport Range from \"./range\";\nimport Graduation from \"./graduation\";\nimport Phrase from \"./phrase\";\nimport Stuff from \"./stuff\";\nimport Change from \"./change\";\nimport Stage from \"./stage\";\nimport Topic from \"./topic\";\nimport Interf from \"./interf\";\n\nexport default class Loc {\n  params = [];\n  ranges = [];\n  grads = [];\n  topics = [];\n\n  stuffs = [];\n  stages = [];\n  phrases = [];\n\n  lim = 15;\n\n  cParam(name, value, isAchiev) {\n    return new Parameter(name, value, isAchiev);\n  }\n  addParams(...params) {\n    this.params = this.params.concat(params);\n  }\n\n  cRange(name, min, max, paramName) {\n    return new Range(name, paramName, min, max);\n  }\n  addRanges(...ranges) {\n    this.ranges = this.ranges.concat(ranges);\n  }\n\n  cGrad(name, ...rangesNames) {\n    return new Graduation(name, rangesNames);\n  }\n  addGrads(...grads) {\n    this.grads = this.grads.concat(grads);\n  }\n\n  cTopic(name, gradName, isFin, isStart, ...stages) {\n    const topicId = this.getId(\"topics\");\n    this.addTopics(new Topic(name, gradName, isFin, isStart, topicId));\n    this.addStages(topicId, ...stages);\n  }\n\n  addTopics(...topics) {\n    this.topics = this.topics.concat(topics);\n  }\n\n  cStage(isStart, ...answers) {\n    const stageId = this.getId(\"stages\");\n    this.addStuffs(stageId, ...answers);\n    return new Stage(isStart, stageId);\n  }\n\n  addStages = (topicId, ...stages) => {\n    if (this._getTopic(topicId)) {\n      const newStages = stages.map(stage => {\n        return { ...stage, topic_id: topicId };\n      });\n      this.stages = this.stages.concat(newStages);\n    } else console.error(`Topic ${topicId} not found!`);\n  };\n\n  cStuff(props, ...phrases) {\n    const { id: nextStageId, changes = [], isA } = props ? props : {};\n    const stuffId = this.getId(\"stuffs\");\n\n    this.addPhrases(stuffId, phrases);\n    return new Stuff(\n      nextStageId,\n      !isA ? changes.filter(c => c.term) : [],\n      isA,\n      stuffId\n    );\n  }\n\n  addStuffs(stageId, ...stuffs) {\n    const newStuffs = stuffs.map(stuff => ({ ...stuff, stage_id: stageId }));\n    this.stuffs = this.stuffs.concat(newStuffs);\n  }\n\n  addPhrases(stuffId, phrases) {\n    const newPhrases = phrases.map(phrase => ({\n      ...phrase,\n      stuff_id: stuffId\n    }));\n\n    this.phrases = this.phrases.concat(newPhrases);\n  }\n\n  cPhrase(text, isGeneral = false, rangeName) {\n    const phraseId = this.getId(\"phrases\");\n    return new Phrase(rangeName, text, isGeneral, phraseId);\n  }\n\n  cChange(paramName, term) {\n    return new Change(paramName, term);\n  }\n\n  _getTopic(id) {\n    return this.topics.find(topic => topic.id === id);\n  }\n  _getStages = topicId => {\n    return this.stages.filter(stage => stage.topic_id === topicId);\n  };\n\n  _getStuffs = stageId => {\n    return this.stuffs.filter(stuff => stuff.stage_id === stageId);\n  };\n\n  _getPhrases = stuffId => {\n    return this.phrases.filter(phrase => phrase.stuff_id === stuffId);\n  };\n\n  _getParam = name => {\n    return this.params.find(param => param.name === name);\n  };\n\n  _getRange(name) {\n    return this.ranges.find(range => range.name === name);\n  }\n\n  _getGrad(name) {\n    return this.grads.find(grad => grad.name === name);\n  }\n\n  _editParams(changes) {\n    changes.forEach(change => {\n      const param = this._getParam(change.paramName);\n\n      if (param.isAchiev) {\n        param.value = true;\n      } else {\n        const newValue = param.value + change.term;\n        if (newValue > this.lim) {\n          param.value = this.lim;\n        } else if (newValue < 1) {\n          param.value = 1;\n        } else param.value = newValue;\n      }\n    });\n  }\n\n  checkStageFinal = stageId => {\n    const stuffs = this._getStuffs(stageId);\n    return !stuffs.find(s => !s.isA);\n  };\n\n  checkRange = rangeName => {\n    const range = this._getRange(rangeName);\n    const param = this._getParam(range.paramName);\n    const res = param.isAchiev\n      ? param.value === range.max\n      : param.value >= range.min && param.value <= range.max;\n    return res;\n  };\n\n  checkGrad = gradName => {\n    const grad = this._getGrad(gradName);\n    const ranges = grad.rangesNames.map(rName => this._getRange(rName));\n    const params = [];\n    ranges.forEach(range => {\n      if (!params[range.paramName]) {\n        params[range.paramName] = this.checkRange(range.name);\n      }\n    });\n    for (let key in params) {\n      if (!params[key]) return false;\n    }\n    return true;\n  };\n\n  idState = {};\n  getId = type => {\n    if (!this.idState[type]) this.idState[type] = 0;\n    this.idState[type]++;\n    return this.idState[type];\n  };\n\n  getStartId = () => {\n    const startTopic = this.topics.find(topic => topic.isStart);\n    const stages = this._getStages(startTopic.id);\n    const startStage = stages.find(stage => stage.isStart);\n    return startStage ? startStage.id : null;\n  };\n\n  calcStuff = stuffId => {\n    const stuff = this.stuffs.find(s => s.id === stuffId);\n\n    this._editParams(stuff.changes);\n    return stuff.next_stage_id;\n  };\n\n  getGeneralPhrase = stuffId => {\n    const stuff = this.stuffs.find(s => s.id === stuffId);\n    const phrases = this._getPhrases(stuff.id);\n    const generalPhrase = phrases.find(phrase => phrase.isGeneral);\n    return generalPhrase?.text;\n  };\n\n  getCorrectPhrase = stuffId => {\n    const stuff = this.stuffs.find(s => s.id === stuffId);\n    const phrases = this._getPhrases(stuff.id);\n    const neutralPhrase = phrases.find(phrase => !phrase.rangeName);\n    for (let i in phrases) {\n      const phrase = phrases[i];\n      if (phrase.rangeName && this.checkRange(phrase.rangeName))\n        return phrase.text;\n    }\n\n    return neutralPhrase.text;\n  };\n\n  _getCorrectStuffs(id) {\n    //НЕОБХОДИМОЕ ЧИСЛО ОТВЕТОВ\n    const necessity = 3;\n    const stuffs = this._getStuffs(id);\n\n    //ОГРАНИЧЕНИЕ ПО *БЫЛ ЗДЕСЬ*\n    const answersAll = stuffs.filter(stuff => {\n      if (stuff.isA) return false;\n      else {\n        const stage = this.stages.find(s => s.id === stuff.next_stage_id);\n        return !stage.isBeen;\n      }\n    });\n\n    const correctNeutAchiev = [];\n    const correctFinal = [];\n    const incrrectNeutral = [];\n\n    answersAll.forEach(stuff => {\n      const nextStage = this.stages.find(\n        stage => stage.id === stuff.next_stage_id\n      );\n      const topic = this._getTopic(nextStage.topic_id);\n      const grad = this._getGrad(topic.graduation);\n      const ranges = grad.rangesNames(rName => this._getRange(rName));\n      const params = ranges.rangesNames(r => this._getParam(r.paramName));\n\n      const isAchiev = params.find(p => p.isAchiev);\n      const correct = this.checkGrad(grad.name);\n      const { isFin } = topic;\n\n      if (correct) {\n        //подходящее по градации\n        //если не финал\n        if (!isFin) correctNeutAchiev.push(stuff);\n        //если финал\n        else correctFinal.push(stuff);\n      } else if (!isAchiev && !isFin) {\n        //неподходящие если не ачивный и не финальный\n        incrrectNeutral.push(stuff);\n      }\n    });\n\n    let resultStuffs = correctNeutAchiev.concat(incrrectNeutral);\n    //если пришло время для финалочек\n    if (false) resultStuffs = resultStuffs.concat(correctFinal);\n    return resultStuffs.slice(0, necessity);\n  }\n\n  checkAnswToGrad = stuff => {\n    const nextStage = this.stages.find(\n      stage => stage.id === stuff.next_stage_id\n    );\n    const topic = this._getTopic(nextStage.topic_id);\n    return this.checkGrad(topic.graduation);\n  };\n\n  //ДОБАВИТЬ БЕЗУСЛОВНЫЕ ОГРАНИЧЕНИЯ ДЛЯ ТЕМ ЗАВИСИМЫХ ОТ АЧИВОК\n  getInterfaceStage = id => {\n    //ДОБАВИТЬ ПОДКЛЮЧЕНИЕ ФИНАЛОЧЕК КОГДА НАДО\n\n    const stage = this.stages.find(s => s.id === id);\n    stage.isBeen = true;\n\n    const stuffs = this._getStuffs(id);\n\n    const replicStuff = stuffs.find(stuff => stuff.isA);\n    const replic = new Interf(null, this.getCorrectPhrase(replicStuff.id));\n\n    //ОГРАНИЧЕНИЯ ПО *БЫЛ ТУТ*\n    const answersAll = stuffs.filter(stuff => {\n      return !stuff.isA;\n    });\n\n    //РЕЗУЛЬТАТ\n    const resAnswers = answersAll;\n\n    const interf = {\n      answers: resAnswers.map(stuff => {\n        return new Interf(\n          this.getGeneralPhrase(stuff.id),\n          this.getCorrectPhrase(stuff.id),\n          stuff.id\n        );\n      }),\n      replic\n    };\n\n    return interf;\n  };\n\n  ssign = data => {\n    for (let key in data) {\n      if (![\"params\", \"grads\", \"ranges\"].find(k => k === key)) {\n        this[key] = data[key];\n      }\n    }\n  };\n}\n","export const GRAD_PAN_APA = \"ПАН АПАТ\";\nexport const GRAD_PAN_UNC = \"ПАН НЕУВ\";\nexport const GRAD_PAN_CON = \"ПАН УВ\";\n\nexport const GRAD_TEN_APA = \"НАПР АПАТ\";\nexport const GRAD_TEN_UNC = \"НАПР НЕУВ\";\nexport const GRAD_TEN_CON = \"НАПР УВ\";\n\nexport const GRAD_STAB_APA = \"СТАБ АПАТ\";\nexport const GRAD_STAB_UNC = \"СТАБ НЕУВ\";\nexport const GRAD_STAB_CON = \"СТАБ УВ\";\n\nexport const GRAD_DOG = \"ЗНАЕТ ПРО СОБАКУ\";\n","import React from \"react\";\nimport UI from \"./UI\";\nimport Screen from \"./Screen\";\nimport locE from \"../../game/loc_example\";\nimport mlpaState from \"../../mlpa_state\";\n\nexport default class Game extends React.Component {\n  constructor() {\n    super();\n\n    this.landWidth = 1920;\n    this.landHeight = 1080;\n\n    this.loc = locE;\n    this.loc.ssign(mlpaState);\n    this.defaultParams();\n  }\n  defaultParams() {\n    this.loc.params.forEach(p => {\n      if (!p.isAchiev) p.value = 7;\n    });\n  }\n  getSizes() {\n    const { width, height } = window.screen;\n\n    const max = Math.max(width, height);\n    const min = Math.min(width, height);\n\n    let newWidth = max;\n\n    const factorW = newWidth / this.landWidth;\n    let newHeight = this.landHeight * factorW;\n    if (newHeight > min) {\n      newHeight = min;\n      const factorH = newHeight / this.landHeight;\n      newWidth = this.landWidth * factorH;\n    }\n    return { newWidth, newHeight };\n  }\n  render() {\n    const { newWidth, newHeight } = this.getSizes();\n    return (\n      <Screen width={newWidth} height={newHeight}>\n        <UI\n          loc={this.loc}\n          width={newWidth}\n          height={newHeight}\n          landSizes={{ landWidth: this.landWidth, landHeight: this.landHeight }}\n        />\n      </Screen>\n    );\n  }\n}\n","import React from \"react\";\n\nexport default class TopicItem extends React.Component {\n  render() {\n    const { topic, isSelect, click } = this.props;\n\n    const border = topic.isStart\n      ? \"solid 0.3rem red\"\n      : topic.isFin\n      ? \"solid 0.3rem aqua\"\n      : \"none\";\n\n    const style = {\n      backgroundColor: isSelect ? \"green\" : \"gray\",\n      display: \"inline-block\",\n      margin: \"0.2rem\",\n      padding: \"0.5rem\",\n      cursor: \"pointer\",\n      color: \"white\",\n      border\n    };\n    return (\n      <div\n        style={style}\n        onClick={() => {\n          click(topic.id);\n        }}\n      >\n        {topic.name}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\n\nexport default class StageItem extends React.Component {\n  render() {\n    const { stage, click, isSelect, stuffText, methods } = this.props;\n\n    const isFinal = methods.checkStageFinal(stage.id);\n    const border = stage.isStart\n      ? \"solid 0.3rem red\"\n      : isFinal\n      ? \"solid 0.3rem aqua\"\n      : \"none\";\n\n    const style = {\n      backgroundColor: isSelect ? \"blue\" : \"gray\",\n      cursor: \"pointer\",\n      display: \"inline-block\",\n      margin: \"0.2rem\",\n      padding: \"0.5rem\",\n      color: \"white\",\n      border\n    };\n    return (\n      <div\n        onClick={() => {\n          click(stage.id);\n        }}\n        style={style}\n      >\n        {stuffText(stage.id)}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\n\nexport default class StuffItem extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const nextStage = props.allStages.find(\n      s => s.id === props.stuff.next_stage_id\n    );\n    const currentTopic = nextStage?.topic_id;\n\n    this.state = {\n      currentTopic,\n      viewAchievs: false\n    };\n  }\n  render() {\n    const {\n      stuff,\n      methods,\n      range,\n      stat,\n      goStage,\n      allStages,\n      stuffText,\n      allTopics\n    } = this.props;\n\n    const phrase = methods.getPhrases(stuff.id).find(p => {\n      return (\n        p.rangeName === range ||\n        (range === \"none\" && !p.rangeName) ||\n        (range === \"GENERAL\" && p.isGeneral)\n      );\n    });\n\n    const { changes } = stuff;\n    const { currentTopic, viewAchievs } = this.state;\n\n    const changesItems = !stuff.isA\n      ? stat.params.map(p => {\n          const c = changes.find(change => change.paramName === p.name);\n\n          const term = c ? c.term : p.isAchiev ? false : 0;\n\n          const inputElem = p.isAchiev ? (\n            <input\n              type=\"checkbox\"\n              checked={term}\n              onChange={e => {\n                methods.updateStuff(stuff.id, stuff.next_stage_id, {\n                  paramName: p.name,\n                  term: Boolean(e.target.checked)\n                });\n              }}\n            />\n          ) : (\n            <input\n              type=\"number\"\n              style={{ width: \"40px\" }}\n              value={term}\n              onChange={e => {\n                methods.updateStuff(stuff.id, stuff.next_stage_id, {\n                  paramName: p.name,\n                  term: Number(e.target.value)\n                });\n              }}\n            />\n          );\n\n          if (!viewAchievs && p.isAchiev) return null;\n          return (\n            <span\n              style={{\n                display: \"inline-block\",\n                padding: \"0.5rem\",\n                backgroundColor: \"#ffccff\",\n                marginRight: \"0.5rem\"\n              }}\n              key={p.name}\n            >\n              {p.name}:{inputElem}\n            </span>\n          );\n        })\n      : null;\n\n    const style = {\n      backgroundColor: stuff.isA ? \"#ccffff\" : \"#D3D3D3\",\n      cursor: \"pointer\",\n      margin: \"0.2rem\",\n\n      paddingTop: stuff.isA ? \"1rem\" : \"0.5rem\",\n      paddingBottom: stuff.isA ? \"1rem\" : \"0.5rem\",\n\n      display: \"inline-block\",\n      width: \"40%\"\n    };\n\n    const text = phrase ? phrase.text : \"\";\n\n    const linkItems = methods.getStages(this.state.currentTopic).map(s => {\n      return (\n        <option value={s.id} key={s.id}>\n          {stuffText(s.id)}\n        </option>\n      );\n    });\n\n    if (!allStages.find(s => s.id === stuff.next_stage_id)) {\n      linkItems.unshift(\n        <option value={\"error\"} key=\"0\">\n          {stuff.next_stage_id} NOT FOUND\n        </option>\n      );\n    }\n\n    const linkThemesItems = allTopics.map(t => {\n      return (\n        <option value={t.id} key={t.id}>\n          {t.name}\n        </option>\n      );\n    });\n\n    const next = !stuff.isA ? (\n      <div style={{ display: \"inline-block\", marginRight: \"0.5rem\" }}>\n        <div\n          style={{\n            display: \"inline-block\",\n            backgroundColor: \"red\",\n            cursor: \"pointer\",\n            color: \"white\"\n          }}\n          onClick={() => {\n            goStage(stuff.next_stage_id);\n          }}\n        >\n          ===>\n        </div>\n        {currentTopic}\n\n        <select\n          value={this.state.currentTopic}\n          onChange={e => {\n            const newCurrTopic = Number(e.target.value);\n            this.setState({ currentTopic: newCurrTopic });\n            const topicStages = methods.getStages(newCurrTopic);\n\n            if (\n              topicStages.length &&\n              !topicStages.find(s => s.id === stuff.next_stage_id)\n            )\n              methods.updateStuff(stuff.id, topicStages[0].id);\n          }}\n        >\n          {linkThemesItems}\n        </select>\n\n        <select\n          value={stuff.next_stage_id}\n          onChange={e => {\n            methods.updateStuff(stuff.id, Number(e.target.value));\n          }}\n        >\n          {linkItems}\n        </select>\n      </div>\n    ) : null;\n\n    const removeButton = !stuff.isA ? (\n      <button onClick={() => methods.removeStuff(stuff.id)}>X</button>\n    ) : null;\n\n    const viewBox = stuff.isA ? null : (\n      <input\n        type=\"checkbox\"\n        checked={viewAchievs}\n        onChange={e => {\n          this.setState({ viewAchievs: e.target.checked });\n        }}\n      />\n    );\n\n    return (\n      <div>\n        {removeButton}\n        <div style={style}>\n          ({stuff.id}){\" \"}\n          <input\n            value={text}\n            style={{ width: \"90%\" }}\n            onChange={e => {\n              methods.updatePhrase(\n                stuff.id,\n                range === \"none\" ? null : range,\n                phrase ? phrase.id : null,\n                e.target.value\n              );\n            }}\n          />\n        </div>\n        {next}\n        {changesItems}\n        {viewBox}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\n\nexport default class RangeItem extends React.Component {\n  render() {\n    const { range, isSelect, click } = this.props;\n\n    const style = {\n      backgroundColor: isSelect ? \"orange\" : \"gray\",\n      cursor: \"pointer\",\n      display: \"inline-block\",\n      margin: \"0.2rem\",\n      padding: \"0.5rem\",\n      color: \"white\"\n    };\n    return (\n      <div\n        style={style}\n        onClick={() => {\n          click(range.name);\n        }}\n      >\n        {range.name}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\n\nexport default class AddStuff extends React.Component {\n  render() {\n    const { methods, stageId, topic } = this.props;\n\n    const nextStageId = methods.getStages(topic.id)[0].id;\n\n    return (\n      <div>\n        <button\n          onClick={() => {\n            methods.addStuff(stageId, false, nextStageId, []);\n          }}\n        >\n          +\n        </button>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport StuffItem from \"../Stuffs/StuffItem\";\nimport RangeItem from \"../Ranges/RangeItem\";\nimport AddStuff from \"../Stuffs/AddStuff\";\n\nexport default class Stage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { currentRange: \"none\", acheivs: false };\n  }\n\n  click = name => {\n    this.setState({ currentRange: name });\n  };\n  splitStuffs(stuffs) {\n    const answer = stuffs.find(stuff => stuff.isA);\n    const pAnswers = stuffs.filter(stuff => !stuff.isA);\n    return { answer, pAnswers };\n  }\n  render() {\n    const {\n      stage,\n      methods,\n      stat,\n      changeStage,\n      allStages,\n      stuffText,\n      topic,\n      allTopics\n    } = this.props;\n\n    const stuffs = methods.getStuffs(stage.id);\n\n    const { answer, pAnswers } = this.splitStuffs(stuffs);\n\n    const stuffsItems = [answer, ...pAnswers].map(stuff => {\n      const res = stuff ? (\n        <StuffItem\n          stat={stat}\n          range={this.state.currentRange}\n          methods={methods}\n          key={stuff.id}\n          stuff={stuff}\n          goStage={changeStage}\n          allStages={allStages}\n          allTopics={allTopics}\n          stuffText={stuffText}\n        />\n      ) : null;\n\n      return res;\n    });\n\n    if (\"GENERAL\" === this.state.currentRange) {\n      stuffsItems.shift();\n    }\n\n    const { ranges } = stat;\n\n    const generStuff = (\n      <RangeItem\n        isSelect={\"GENERAL\" === this.state.currentRange}\n        range={{ name: \"GENERAL\" }}\n        click={this.click}\n      />\n    );\n\n    const noRanges = (\n      <RangeItem\n        isSelect={\"none\" === this.state.currentRange}\n        range={{ name: \"none\" }}\n        click={this.click}\n      />\n    );\n\n    const rangesItems = ranges\n      .filter(r => {\n        const param = methods.getParam(r.paramName);\n        return this.state.acheivs || !param.isAchiev;\n      })\n      .map(range => (\n        <RangeItem\n          isSelect={range.name === this.state.currentRange}\n          key={range.name}\n          range={range}\n          click={this.click}\n        />\n      ));\n\n    return (\n      <div>\n        <h2 align=\"center\">\n          {stuffText(stage.id)}{\" \"}\n          <button\n            onClick={() => {\n              methods.removeStage(stage.id);\n            }}\n          >\n            X\n          </button>{\" \"}\n          <input\n            type=\"checkbox\"\n            checked={stage.isStart}\n            onChange={e => {\n              methods.updateStage(stage.id, e.target.checked);\n            }}\n          />\n        </h2>\n        {generStuff}\n        {noRanges}\n        {rangesItems}\n        <input\n          type=\"checkbox\"\n          checked={this.state.acheivs}\n          onChange={e => {\n            this.setState({ acheivs: e.target.checked });\n          }}\n        />\n        {stuffsItems}\n        <AddStuff topic={topic} methods={methods} stageId={stage.id} />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport StageItem from \"../Stages/StageItem\";\nimport Stage from \"../Stages/Stage\";\n\nexport default class Topic extends React.Component {\n  constructor() {\n    super();\n    this.state = { newStageStart: false };\n  }\n  stuffText = id => {\n    if (id) {\n      const { methods } = this.props;\n\n      const nextStuff = methods.getStuffs(id).find(stuff => stuff.isA);\n\n      if (nextStuff) {\n        const nextPhrases = methods.getPhrases(nextStuff.id);\n        const nextPhrase = nextPhrases.find(p => !p.rangeName);\n\n        if (nextPhrase) {\n          return `(${id}) ${nextPhrase.text.slice(0, 7)}...`;\n        } else return `(${id}) NOT PHRASE...`;\n      } else return \"NOT FOUND\";\n    }\n    return null;\n  };\n  render() {\n    const {\n      topic,\n      stat,\n      methods,\n      currentStage,\n      click,\n      changeStage,\n      allStages,\n      allTopics\n    } = this.props;\n\n    const { grads } = stat;\n    const { graduation } = topic;\n\n    const stages = methods.getStages(topic.id);\n    const stagesItems = stages.map(stage => {\n      const isSelect = stage.id === currentStage;\n\n      return (\n        <StageItem\n          methods={methods}\n          stuffText={this.stuffText}\n          key={stage.id}\n          stage={stage}\n          isSelect={isSelect}\n          click={click}\n        />\n      );\n    });\n\n    const optItems = grads.map(grad => {\n      return (\n        <option value={grad.name} key={grad.name}>\n          {grad.name}\n        </option>\n      );\n    });\n\n    const curStage = stages.find(stage => stage.id === currentStage);\n\n    const stageView = currentStage ? (\n      <Stage\n        stage={curStage}\n        methods={methods}\n        stat={stat}\n        allStages={allStages}\n        allTopics={allTopics}\n        changeStage={changeStage}\n        stuffText={this.stuffText}\n        topic={topic}\n      />\n    ) : null;\n\n    return (\n      <div>\n        <h1 align=\"center\">\n          Topic{\" \"}\n          <input\n            value={topic.name}\n            onChange={e => {\n              methods.updateTopic(\n                topic.id,\n                e.target.value,\n                topic.graduation,\n                topic.isFin,\n                topic.isStart\n              );\n            }}\n          />\n          , grad:\n          <select\n            value={graduation}\n            onChange={e => {\n              methods.updateTopic(\n                topic.id,\n                topic.name,\n                e.target.value,\n                topic.isFin,\n                topic.isStart\n              );\n            }}\n          >\n            {optItems}\n          </select>\n          Start:\n          <input\n            type=\"checkbox\"\n            checked={topic.isStart}\n            onChange={e => {\n              methods.updateTopic(\n                topic.id,\n                topic.name,\n                topic.graduation,\n                topic.isFin,\n                e.target.checked\n              );\n            }}\n          />\n          Final:\n          <input\n            type=\"checkbox\"\n            checked={topic.isFin}\n            onChange={e => {\n              methods.updateTopic(\n                topic.id,\n                topic.name,\n                topic.graduation,\n                e.target.checked,\n                topic.isStart\n              );\n            }}\n          />\n          <button\n            onClick={() => {\n              methods.removeTopic(topic.id);\n            }}\n            style={{ marginLeft: \"1rem\" }}\n          >\n            X\n          </button>\n        </h1>\n\n        <br />\n        <div>\n          <input\n            type=\"checkbox\"\n            checked={this.state.newStageStart}\n            onChange={e => {\n              this.setState({ newStageStart: e.target.checked });\n            }}\n          />\n          <button\n            onClick={() => {\n              methods.addStage(topic.id, this.state.newStageStart);\n            }}\n          >\n            +\n          </button>\n        </div>\n        {stagesItems}\n        <br />\n        {stageView}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\n\nexport default class AddTopic extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      graduation: props.stat.grads[0].name,\n      name: \"\",\n      isFin: false,\n      isStart: false\n    };\n  }\n\n  render() {\n    const { graduation, name, isFin, isStart } = this.state;\n    const { stat, methods } = this.props;\n    const { grads } = stat;\n    const optItems = grads.map(grad => (\n      <option value={grad.name} key={grad.name}>\n        {grad.name}\n      </option>\n    ));\n\n    return (\n      <div>\n        <input\n          value={name}\n          onChange={e => {\n            this.setState({ name: e.target.value });\n          }}\n        />\n        <select\n          value={graduation}\n          onChange={e => {\n            this.setState({ graduation: e.target.value });\n          }}\n        >\n          {optItems}\n        </select>\n        Start:\n        <input\n          type=\"checkbox\"\n          checked={isStart}\n          onChange={e => {\n            this.setState({ isStart: e.target.checked });\n          }}\n        />\n        Final:\n        <input\n          type=\"checkbox\"\n          checked={isFin}\n          onChange={e => {\n            this.setState({ isFin: e.target.checked });\n          }}\n        />\n        <button\n          onClick={() => {\n            methods.addTopic(name, graduation, isFin, isStart);\n          }}\n        >\n          +\n        </button>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\n\nimport locE from \"../../game/loc_example\";\n//import locE from \"./../../game/loc_example\";\nimport TopicItem from \"./Topics/TopicItem\";\nimport Topic from \"./Topics/Topic\";\nimport AddTopic from \"./Topics/AddTopic\";\nimport exportFromJSON from \"export-from-json\";\nimport mlpaState from \"../../mlpa_state\";\n\nexport default class Editor extends React.Component {\n  constructor() {\n    super();\n    this.myStorage = window.localStorage;\n    this.loc = {};\n    this.import(true);\n    const { topicId, stageId } = this.getTopStag();\n    this.state = { currentTopic: topicId, currentStage: stageId };\n  }\n\n  import(firstTime) {\n    this.loc = locE;\n\n    this.loc.ssign({ ...mlpaState });\n    if (!firstTime) this.forceUpdate();\n  }\n\n  getTopStag() {\n    const topicId = this.loc.topics[0] ? this.loc.topics[0].id : null;\n    const stageId = this.loc._getStages(topicId)[0]\n      ? this.loc._getStages(topicId)[0].id\n      : null;\n    return { topicId, stageId };\n  }\n\n  exportFile() {\n    const data = this.loc;\n    const fileName = \"mlpa_state\";\n    const exportType = \"json\";\n\n    exportFromJSON({ data, fileName, exportType });\n  }\n\n  saveLoc() {\n    const locData = JSON.stringify(this.loc);\n    this.myStorage.setItem(\"locData\", locData);\n  }\n\n  addTopic = (name, gradName, isFin, isStart) => {\n    this.loc.cTopic(name, gradName, isFin, isStart);\n    this.forceUpdate();\n  };\n\n  addStage = (topicId, isStart) => {\n    this.loc.addStages(\n      topicId,\n      this.loc.cStage(\n        isStart,\n        this.loc.cStuff({ isA: true }, this.loc.cPhrase(\"space\"))\n      )\n    );\n    this.forceUpdate();\n  };\n  updateStage = (id, isStart) => {\n    const stage = this.loc.stages.find(s => s.id === id);\n    stage.isStart = isStart;\n    this.forceUpdate();\n  };\n  updateTopic = (topicId, name, gradName, isFin, isStart) => {\n    const topic = this.loc._getTopic(topicId);\n    topic.name = name;\n    topic.graduation = gradName;\n    topic.isFin = isFin;\n    topic.isStart = isStart;\n    this.forceUpdate();\n  };\n  addPhrase = (stuffId, range, text, isGeneral) => {\n    this.loc.addPhrases(stuffId, [this.loc.cPhrase(text, isGeneral, range)]);\n    this.forceUpdate();\n  };\n\n  updatePhrase = (stuffId, range, id, newText) => {\n    const phrase = this.loc.phrases.find(p => p.id === id);\n    if (phrase) {\n      phrase.text = newText;\n      if (!newText && !phrase.isGeneral && phrase.rangeName)\n        this.removePhrase(phrase.id);\n    } else {\n      this.addPhrase(stuffId, range, newText);\n    }\n    this.forceUpdate();\n  };\n\n  addStuff = (stageId, isA, nextStageId, changes = []) => {\n    const newStaff = this.loc.cStuff(\n      {\n        isA,\n        id: nextStageId\n      },\n      this.loc.cPhrase(\"space\"),\n      this.loc.cPhrase(\"generalSpace\", true)\n    );\n\n    this.loc.addStuffs(stageId, newStaff);\n\n    this.forceUpdate();\n  };\n  updateStuff = (id, nextStageId, ...changes) => {\n    const stuff = this.loc.stuffs.find(s => s.id === id);\n    stuff.next_stage_id = nextStageId;\n    changes.forEach(change => {\n      const changeIndex = stuff.changes.findIndex(\n        c => c.paramName === change.paramName\n      );\n      const thisStuffCh = stuff.changes[changeIndex];\n\n      const changeTerm = change.term;\n\n      if (!thisStuffCh) {\n        stuff.changes.push(this.loc.cChange(change.paramName, changeTerm));\n      } else {\n        if (changeTerm) thisStuffCh.term = changeTerm;\n        else stuff.changes.splice(changeIndex, 1);\n        console.log(thisStuffCh);\n      }\n    });\n    this.forceUpdate();\n  };\n\n  removeTopic = id => {\n    const index = this.loc.topics.findIndex(t => t.id === id);\n    this.loc.topics.splice(index, 1);\n    const stages = this.loc._getStages(id);\n    stages.forEach(s => {\n      this.removeStage(s.id);\n    });\n\n    this.setState({ currentTopic: null, currentStage: null });\n    this.forceUpdate();\n  };\n  removeStage = id => {\n    const index = this.loc.stages.findIndex(s => s.id === id);\n    this.loc.stages.splice(index, 1);\n    const stuffs = this.loc._getStuffs(id);\n    stuffs.forEach(s => {\n      if (s.next_stage_id === id) {\n        s.next_stage_id = null;\n      }\n      this.removeStuff(s.id);\n    });\n    this.setState({ currentStage: null });\n    this.forceUpdate();\n  };\n  removeStuff = id => {\n    const index = this.loc.stuffs.findIndex(s => s.id === id);\n    this.loc.stuffs.splice(index, 1);\n    const phrases = this.loc._getPhrases(id);\n    phrases.forEach(p => {\n      this.removePhrase(p.id);\n    });\n    this.forceUpdate();\n  };\n  removePhrase = id => {\n    const index = this.loc.phrases.findIndex(p => p.id === id);\n    this.loc.phrases.splice(index, 1);\n    this.forceUpdate();\n  };\n\n  click = id => {\n    const firstStage = this.loc._getStages(id)[0];\n    if (firstStage) this.changeStage(firstStage.id);\n    else this.setState({ currentTopic: id, currentStage: null });\n    this.forceUpdate();\n  };\n  changeStage = id => {\n    const stage = this.loc.stages.find(s => s.id === id);\n    if (stage) {\n      this.setState({ currentTopic: stage.topic_id, currentStage: id });\n    }\n\n    this.forceUpdate();\n  };\n\n  render() {\n    const { topics, grads, params, ranges } = this.loc;\n    const stat = {\n      grads,\n      params,\n      ranges\n    };\n\n    const { currentStage, currentTopic } = this.state;\n\n    const methods = {\n      addTopic: this.addTopic,\n      addStage: this.addStage,\n      updateStage: this.updateStage,\n      updateTopic: this.updateTopic,\n      removeTopic: this.removeTopic,\n      removeStage: this.removeStage,\n      updateStuff: this.updateStuff,\n      removeStuff: this.removeStuff,\n      getStages: this.loc._getStages,\n      getStuffs: this.loc._getStuffs,\n      getPhrases: this.loc._getPhrases,\n      addStuff: this.addStuff,\n      updatePhrase: this.updatePhrase,\n      addPhrase: this.addPhrase,\n      removePhrase: this.removePhrase,\n      getParam: this.loc._getParam,\n      checkStageFinal: this.loc.checkStageFinal\n    };\n\n    const topicItems = topics.map(topic => {\n      const isSelect = topic.id === currentTopic;\n      return (\n        <TopicItem\n          key={topic.id}\n          topic={topic}\n          methods={methods}\n          isSelect={isSelect}\n          click={this.click}\n        />\n      );\n    });\n\n    const topicView = currentTopic ? (\n      <Topic\n        allTopics={this.loc.topics}\n        allStages={this.loc.stages}\n        currentStage={currentStage}\n        topic={topics.find(topic => topic.id === this.state.currentTopic)}\n        stat={stat}\n        methods={methods}\n        goTopic={this.click}\n        click={this.changeStage}\n        changeStage={this.changeStage}\n      />\n    ) : null;\n\n    console.log(this.loc);\n    return (\n      <div>\n        <button onClick={() => this.import()}>import</button>\n        <button onClick={() => this.exportFile()}>export</button>\n        <br />\n        <AddTopic methods={methods} stat={stat} />\n        {topicItems}\n        {topicView}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport Game from \"./components/Game/Game\";\nimport Editor from \"./components/Editor/Editor\";\n\nfunction App() {\n  return (\n    <div>\n      <Game />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport '@fortawesome/fontawesome-free/css/all.css'\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}