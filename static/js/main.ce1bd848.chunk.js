(this.webpackJsonpmlpa=this.webpackJsonpmlpa||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(8),c=a.n(i),s=(a(14),a(1)),o=a(2),u=a(4),l=a(3),h=a(5),d=function e(t,a){Object(s.a)(this,e),this.name=t,this.rangesNames=a},f=function e(t,a){Object(s.a)(this,e),this.lim=10,this.name=t,this.value=a},g=function e(t,a,n){Object(s.a)(this,e),this.stuff_id=null,this.rangeName=t,this.text=a,this.id=n},m=function e(t,a,n,r){Object(s.a)(this,e),this.name=t,this.paramName=a,this.min=n,this.max=r},p=function e(t){Object(s.a)(this,e),this.isBeen=!1,this.topic_id=null,this.id=t},v=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;Object(s.a)(this,e),this.stage_id=null,this.next_stage_id=t,this.changes=a,this.isA=n,this.id=r},y=function e(t,a,n){Object(s.a)(this,e),this.name=t,this.graduation=a,this.id=n},k=a(6),b=function e(t,a){Object(s.a)(this,e),this.paramName=t,this.term=a},S=function(){function e(){var t=this;Object(s.a)(this,e),this.params=[],this.ranges=[],this.grads=[],this.topics=[],this.stuffs=[],this.stages=[],this.phrases=[],this._getStages=function(e){return t.stages.filter((function(t){return t.topic_id===e}))},this._getStuffs=function(e){return t.stuffs.filter((function(t){return t.stage_id===e}))},this._getPhrases=function(e){return t.phrases.filter((function(t){return t.stuff_id===e}))},this.idState={}}return Object(o.a)(e,[{key:"cParam",value:function(e,t){return new f(e,t)}},{key:"addParams",value:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];this.params=this.params.concat(t)}},{key:"cRange",value:function(e,t,a,n){return new m(e,n,t,a)}},{key:"addRanges",value:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];this.ranges=this.ranges.concat(t)}},{key:"cGrad",value:function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return new d(e,a)}},{key:"addGrads",value:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];this.grads=this.grads.concat(t)}},{key:"cTopic",value:function(e,t){var a=this.getId("topics");this.addTopics(new y(e,t,a));for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.addStages.apply(this,[a].concat(r))}},{key:"addTopics",value:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];this.topics=this.topics.concat(t)}},{key:"cStage",value:function(){for(var e=this.getId("stages"),t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return this.addStuffs.apply(this,[e].concat(a)),new p(e)}},{key:"addStages",value:function(e){if(this._getTopic(e)){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var r=a.map((function(t){return Object(k.a)({},t,{topic_id:e})}));this.stages=this.stages.concat(r)}else console.error("Topic ".concat(e," not found!"))}},{key:"cStuff",value:function(e){for(var t=e||{},a=t.id,n=t.changes,r=t.isA,i=this.getId("stuffs"),c=arguments.length,s=new Array(c>1?c-1:0),o=1;o<c;o++)s[o-1]=arguments[o];return this.addPhrases(i,s),new v(a,n,r,i)}},{key:"addStuffs",value:function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var r=a.map((function(t){return Object(k.a)({},t,{stage_id:e})}));this.stuffs=this.stuffs.concat(r)}},{key:"addPhrases",value:function(e,t){var a=t.map((function(t){return Object(k.a)({},t,{stuff_id:e})}));this.phrases=this.phrases.concat(a)}},{key:"cPhrase",value:function(e,t){return new g(t,e,this.getId("phrases"))}},{key:"cChange",value:function(e,t){return new b(e,t)}},{key:"_getTopic",value:function(e){return this.topics.find((function(t){return t.id===e}))}},{key:"_updateGrad",value:function(e,t){this._getTopic(e).graduation=t}},{key:"_getParam",value:function(e){return this.params.find((function(t){return t.name===e}))}},{key:"_getRange",value:function(e){return this.ranges.find((function(t){return t.name===e}))}},{key:"_getGrad",value:function(e){return this.grads.find((function(t){return t.name===e}))}},{key:"_editParams",value:function(e){var t=this;e.forEach((function(e){var a=t._getParam(e.paramName),n=a.value+e.term;n>a.lim?a.value=a.lim:a.value=n<0?0:n}))}},{key:"checkRange",value:function(e){var t=this._getRange(e),a=this._getParam(t.paramName);return a.value>=t.min&&a.value<=t.max}},{key:"checkGrad",value:function(e){for(var t=this._getGrad(e),a=0;a<t.rangesNames.length;a++){var n=this._getRange(t.rangesNames[a]);if(!this.checkRange(n.value))return!1}return!0}},{key:"getId",value:function(e){return this.idState[e]||(this.idState[e]=0),this.idState[e]++,this.idState[e]}},{key:"ssign",value:function(e){for(var t in e)Boolean(this[t])&&(this[t]=e[t])}}]),e}(),O=new S;O.addParams(O.cParam("\u0440\u0435\u0448\u0438\u043c\u043e\u0441\u0442\u044c",2),O.cParam("\u0443\u0440\u0430\u0432\u043d\u043e\u0432\u0435\u0448\u0435\u043d\u043d\u043e\u0441\u0442\u044c",4)),O.addRanges(O.cRange("\u0438\u0441\u0442\u0435\u0440\u0438\u043a\u0430",0,3,"\u0443\u0440\u0430\u0432\u043d\u043e\u0432\u0435\u0448\u0435\u043d\u043d\u043e\u0441\u0442\u044c"),O.cRange("\u0441\u043f\u043e\u043a\u043e\u0439\u0441\u0442\u0432\u0438\u0435",0,3,"\u0440\u0435\u0448\u0438\u043c\u043e\u0441\u0442\u044c")),O.addGrads(O.cGrad("\u043a\u043e\u043d\u0441\u0442\u0440\u043a\u0443\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c","\u0438\u0441\u0442\u0435\u0440\u0438\u043a\u0430","\u0441\u043f\u043e\u043a\u043e\u0439\u0441\u0442\u0432\u0438\u0435"),O.cGrad("\u0431\u0435\u0441\u0441\u0438\u043b\u0438\u0435","\u0438\u0441\u0442\u0435\u0440\u0438\u043a\u0430","\u0441\u043f\u043e\u043a\u043e\u0439\u0441\u0442\u0432\u0438\u0435")),O.cTopic("\u0442\u0435\u0440\u043a\u0438 \u0437\u0430 \u0441\u0435\u043c\u044c\u044e","\u043a\u043e\u043d\u0441\u0442\u0440\u043a\u0443\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c",O.cStage(O.cStuff({isA:!0},O.cPhrase("\u0422\u044b \u043c\u0435\u043d\u044f \u0441\u043e\u0432\u0441\u0435\u043c \u043d\u0435 \u043f\u043e\u043d\u0438\u043c\u0430\u0435\u0448\u044c!","\u0438\u0441\u0442\u0435\u0440\u0438\u043a\u0430"),O.cPhrase("\u0414\u0430 \u044f \u0432 \u0441\u0432\u043e\u0435\u043c \u0441\u043e\u0437\u043d\u0430\u043d\u0438\u0438 \u043d\u0430\u0441\u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u0435\u0438\u0441\u043f\u043e\u043b\u043d\u0438\u043b\u0430\u0441\u044c, \u0438\u0434\u0438 \u0441\u0443\u0435\u0442\u0438\u0441\u044c...","\u0441\u043f\u043e\u043a\u043e\u0439\u0441\u0442\u0432\u0438\u0435"),O.cPhrase("\u0422\u044b \u043a\u0430\u0436\u0435\u0442\u0441\u044f \u043d\u0435 \u043f\u043e\u043d\u044f\u043b.")),O.cStuff({id:2,changes:[O.cChange("\u0440\u0435\u0448\u0438\u043c\u043e\u0441\u0442\u044c",-5)]},O.cPhrase("\u0423\u0441\u043f\u043e\u043a\u043e\u0439\u0441\u044f \u0438\u0441\u0442\u0435\u0440\u0438\u0447\u043a\u0430 \u0435\u0431\u0430\u0442\u044c!","\u0438\u0441\u0442\u0435\u0440\u0438\u043a\u0430"),O.cPhrase("\u0414\u0430 \u0432\u0441\u0435 \u043d\u043e\u0440\u043c \u0442\u044b \u0448\u043e.")),O.cStuff({id:2,changes:[O.cChange("\u0443\u0440\u0430\u0432\u043d\u043e\u0432\u0435\u0448\u0435\u043d\u043d\u043e\u0441\u0442\u044c",5)]},O.cPhrase("\u0415\u0431\u0430\u0442\u044c \u0442\u044b \u0444\u0438\u043b\u043e\u0441\u041e\u0444! \u0414\u0435\u0434\u0443 \u043d\u0440\u0430\u0432\u0438\u0442\u0441\u044f.","\u0441\u043f\u043e\u043a\u043e\u0439\u0441\u0442\u0432\u0438\u0435"),O.cPhrase("\u042d\u0439 \u043d\u0443 \u0438\u0437\u0432\u0438\u043d\u0438 \u0442\u044b \u0448\u043e."))),O.cStage(O.cStuff({isA:!0},O.cPhrase("\u0412 \u0441\u043c\u044b\u0441\u043b\u0435 \u0442\u044b \u043c\u043e\u0439 \u043e\u0442\u0435\u0446?!","\u0438\u0441\u0442\u0435\u0440\u0438\u043a\u0430"),O.cPhrase("\u0422\u044b \u043c\u043e\u0439 \u0431\u0430\u0442\u044f?..")),O.cStuff({id:2,changes:[O.cChange("\u0440\u0435\u0448\u0438\u043c\u043e\u0441\u0442\u044c",-5)]},O.cPhrase("\u0414\u043e\u0440\u043e\u0433\u0443\u0448\u0430 \u043e\u0441\u0442\u044b\u043d\u044c.","\u0438\u0441\u0442\u0435\u0440\u0438\u043a\u0430"),O.cPhrase("\u0414\u0430, \u0431\u0430\u0442\u044f. \u0422\u043e\u043b\u044c\u043a\u043e \u043d\u0435 \u0432\u043e\u043b\u043d\u0443\u0439\u0441\u044f.")),O.cStuff({id:2,changes:[O.cChange("\u0440\u0435\u0448\u0438\u043c\u043e\u0441\u0442\u044c",-5)]},O.cPhrase("\u0425\u0435\u0445, \u043d\u0443 \u0432 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u043e\u043c \u0441\u043c\u044b\u0441\u043b\u0435 \u044f \u043f\u043e\u0448\u0443\u0442\u0438\u043b","\u0438\u0441\u0442\u0435\u0440\u0438\u043a\u0430"),O.cPhrase("\u041d\u0443, \u0442\u0435\u0441\u0442 \u0414\u041d\u041a \u044f \u043d\u0435 \u0434\u0435\u043b\u0430\u043b..."))));var j=O,w=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.topic,a=e.isSelect,n=e.click,i={backgroundColor:a?"green":"gray",display:"inline-block",margin:"0.2rem",padding:"0.5rem",cursor:"pointer",color:"white"};return r.a.createElement("div",{style:i,onClick:function(){n(t.id)}},t.name)}}]),t}(r.a.Component),_=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.stage,a=e.click,n={backgroundColor:e.isSelect?"blue":"gray",cursor:"pointer",display:"inline-block",margin:"0.2rem",padding:"0.5rem",color:"white"};return r.a.createElement("div",{onClick:function(){a(t.id)},style:n},"Stage ",t.id," ")}}]),t}(r.a.Component),E=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.stuff,a=e.methods,n=e.range,i=e.stat,c=a.getPhrases(t.id).find((function(e){return e.rangeName===n||"none"===n&&!e.rangeName})),s=t.changes,o=t.isA?null:i.params.map((function(e){var t=s.find((function(t){return t.paramName===e.name})),a=t?t.term:0;return r.a.createElement("span",{style:{display:"inline-block",padding:"0.5rem",backgroundColor:"#ffccff",marginRight:"0.5rem"},key:e.name},e.name,": ",a)})),u={backgroundColor:t.isA?"#ccffff":"#D3D3D3",cursor:"pointer",margin:"0.2rem",paddingTop:t.isA?"1rem":"0.5rem",paddingBottom:t.isA?"1rem":"0.5rem",display:"inline-block",width:"50%"},l=c?c.text:"___",h=t.isA?null:r.a.createElement("div",{style:{display:"inline-block",marginRight:"0.5rem"}},"=> ",t.next_stage_id);return r.a.createElement("div",null,r.a.createElement("div",{style:u},'"',l,'"'),h,o)}}]),t}(r.a.Component),P=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.range,a=e.isSelect,n=e.click,i={backgroundColor:a?"orange":"gray",cursor:"pointer",display:"inline-block",margin:"0.2rem",padding:"0.5rem",color:"white"};return r.a.createElement("div",{style:i,onClick:function(){n(t.name)}},t.name)}}]),t}(r.a.Component),A=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).click=function(e){a.setState({currentRange:e})},a.state={currentRange:"none"},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"splitStuffs",value:function(e){return{answer:e.find((function(e){return e.isA})),pAnswers:e.filter((function(e){return!e.isA}))}}},{key:"render",value:function(){var e=this,t=this.props,a=t.stage,n=t.methods,i=t.stat,c=n.getStuffs(a.id),s=this.splitStuffs(c),o=s.answer,u=s.pAnswers,l=r.a.createElement(E,{stat:i,range:this.state.currentRange,methods:n,stuff:o}),h=u.map((function(t){return r.a.createElement(E,{stat:i,range:e.state.currentRange,methods:n,key:t.id,stuff:t})})),d=i.ranges,f=r.a.createElement(P,{isSelect:"none"===this.state.currentRange,range:{name:"none"},click:this.click}),g=d.map((function(t){return r.a.createElement(P,{isSelect:t.name===e.state.currentRange,key:t.name,range:t,click:e.click})}));return r.a.createElement("div",null,r.a.createElement("h2",{align:"center"},"Stage ",a.id),f,g,l,h)}}]),t}(r.a.Component),C=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).click=function(e){a.setState({currentStage:e})};var n=e.methods.getStages(e.topic.id)[0].id;return a.state={currentStage:n},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.topic,n=t.stat,i=t.methods,c=n.grads,s=a.graduation,o=i.getStages(a.id),u=o.map((function(t){var a=t.id===e.state.currentStage;return r.a.createElement(_,{key:t.id,stage:t,isSelect:a,click:e.click})})),l=c.map((function(e){return r.a.createElement("option",{value:e.name,key:e.name},e.name)}));return r.a.createElement("div",null,r.a.createElement("h1",{align:"center"},'Topic "',a.name,'", grad:',r.a.createElement("select",{value:s,onChange:function(e){i.updateGrad(a.id,e.target.value)}},l)),r.a.createElement("br",null),u,r.a.createElement("br",null),r.a.createElement(A,{stage:o.find((function(t){return t.id===e.state.currentStage})),methods:i,stat:n}))}}]),t}(r.a.Component),R=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).addTopic=function(t,a){e.loc.cTopic(t,a),e.forceUpdate()},e.addStage=function(t){e.loc.addStages(t,e.loc.cStage()),e.forceUpdate()},e.updateGrad=function(t,a){e.loc._updateGrad(t,a),e.forceUpdate()},e.click=function(t){e.setState({currentTopic:t})},e.myStorage=window.localStorage,e.loc=e.getLoc(),e.state={currentTopic:e.loc.topics[0].id},e}return Object(h.a)(t,e),Object(o.a)(t,[{key:"getLoc",value:function(){var e=new S,t=JSON.parse(this.myStorage.getItem("locData"));return e.ssign(t),e||j}},{key:"saveLoc",value:function(){var e=JSON.stringify(this.loc);this.myStorage.setItem("locData",e)}},{key:"render",value:function(){var e=this,t=this.loc,a=t.topics,n={grads:t.grads,params:t.params,ranges:t.ranges},i={addTopic:this.addTopic,addStage:this.addStage,updateGrad:this.updateGrad,getStages:this.loc._getStages,getStuffs:this.loc._getStuffs,getPhrases:this.loc._getPhrases},c=a.map((function(t){var a=t.id===e.state.currentTopic;return r.a.createElement(w,{key:t.id,topic:t,methods:i,isSelect:a,click:e.click})}));return console.log(this.loc),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return e.saveLoc()}},"save"),r.a.createElement("br",null),c,r.a.createElement(C,{topic:a.find((function(t){return t.id===e.state.currentTopic})),stat:n,methods:i}))}}]),t}(r.a.Component);var T=function(){return r.a.createElement("div",null,r.a.createElement(R,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,a){e.exports=a(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.ce1bd848.chunk.js.map